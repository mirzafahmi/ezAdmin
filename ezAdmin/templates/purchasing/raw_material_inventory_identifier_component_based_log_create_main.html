{% extends 'partials/base.html' %}
{% block tittle %} Raw Material Inventory Log Type{% endblock %}

{% block content %}
<body>
    <div class="col-md-10 offset-md-1 table-responsive">
        <h2 class = "text-center">Raw Material Inventory Log Type for {{component.0.1}} of {{component.0.0}} Page</h2>
        <hr>
        <div class="card-deck">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h3 class="card-title">Raw Material Stock-In for {{component.0.1}} of {{component.0.0}} Tab</h3>
                    <p class="card-text">To log stock-in for raw material inventory.</p>
                    <a href="{% url 'purchasing-raw-material-inventory-identifier-component-based-log-create' identifier_id component_id 1 %}" class="btn btn-primary">Log Stock-In Raw Material Inventory</a>
                </div>
            </div>
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h3 class="card-title">Raw Material Stock-Out for {{component.0.1}} of {{component.0.0}} Tab</h3>
                    <p class="card-text">To log stock-out for raw material inventory.</p>
                    <a href="{% url 'purchasing-raw-material-inventory-identifier-component-based-log-create' identifier_id component_id 2 %}" class="btn btn-primary">Log Stock-In Raw Material Inventory</a>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    $(document).ready(function () {
        var identifierId = getUrlParameter('identifier');
        var componentId = getUrlParameter('component');
        var stockType = getUrlParameter('type');

        $.ajax({
            url: ajaxUrl,
            method: 'GET',
            data: {
                identifier_id: identifierId,
                component_id: componentId,
                type: stockType
            },
            dataType: 'json',
            success: function (data) {
            
                if (stockType === '2') {
                    $.ajax({
                        url: ajaxUrl,  // Replace with your actual endpoint
                        method: 'GET',
                        data: {
                            identifier_id: identifierId,
                            component_id: componentId,
                            type: stockType
                        },
                        dataType: 'json',
                        success: function (data) {
                            var showAlert = data.alert
                        },
                        error: function () {
                            console.log('Error fetching Alert information.');
                        }
                    });
                }
            },
            error: function () {
                console.log('Error fetching component options.');
            }
        });
        var showAlert = {{ show_alert|yesno:"true,false" }};

            if (showAlert) {
                // You can use JavaScript to display an alert, for example:
                alert('This is an alert message.');
            }
    })
    
</script>
{% endblock %}
